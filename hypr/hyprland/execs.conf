# KWallet init MUST run first (before nm-applet) - uses PAM to auto-unlock
exec-once = /run/current-system/sw/libexec/pam_kwallet_init

# Hyprland-specific services
exec-once = hyprpaper
exec-once = xdg-desktop-portal-gtk
exec-once = sh -c 'until hyprctl monitors; do sleep 0.1; done && : > /tmp/ags.log; ags run --gtk 4 --log-file /tmp/ags.log'
exec-once = swaync

# Clipboard history (cliphist stores history, wl-paste monitors clipboard)
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# System tray applets (standalone versions for Hyprland) - must be AFTER kwallet init
exec-once = sh -c 'until hyprctl monitors; do sleep 0.1; done && nm-applet'
exec-once = blueman-applet
